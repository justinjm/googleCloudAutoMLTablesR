<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quick Start • googleCloudAutoMLTablesR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Quick Start">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">googleCloudAutoMLTablesR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/quick-start.html">Quick Start</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Quick Start</h1>
            
      
      
      <div class="hidden name"><code>quick-start.Rmd</code></div>

    </div>

    
    
<div id="setup" class="section level1">
<h1 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(googleAuthR)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(googleCloudAutoMLTablesR)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># options for debugging to see auth and details on functions later </span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co"># options(gargle_quiet = FALSE)</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co"># options(googleAuthR.verbose = 0)</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(<span class="dt">googleAuthR.scopes.selected =</span> <span class="st">"https://www.googleapis.com/auth/cloud-platform"</span>)</a>
<a class="sourceLine" id="cb1-9" data-line-number="9"></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="kw"><a href="https://code.markedmondson.me/googleAuthR//reference/gar_auth_service.html">gar_auth_service</a></span>(<span class="dt">json_file =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span>(<span class="st">"GAR_SERVICE_JSON"</span>))</a>
<a class="sourceLine" id="cb1-11" data-line-number="11"></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="co"># functions for debugging auth issues </span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="co"># googleAuthR::gar_token_info(2)</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="co"># googleAuthR::gar_check_existing_token()</span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="co"># gargle::gargle_oauth_sitrep()</span></a></code></pre></div>
<p>Test authentication and check in correct project:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># assumes you have projectId string set to environment </span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co"># argument GCAT_PROJECT_ID</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">projectId &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span>(<span class="st">"GCAT_PROJECT_ID"</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">## Get list of locations </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">locations_list &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_list_locations.html">gcat_list_locations</a></span>(<span class="dt">projectId =</span> projectId)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">locations_list</a></code></pre></div>
<pre><code>##                                                name  locationId
## 1 projects/gc-automl-tables-r/locations/us-central1 us-central1
## 2          projects/gc-automl-tables-r/locations/eu          eu</code></pre>
<div id="set-location" class="section level2">
<h2 class="hasAnchor">
<a href="#set-location" class="anchor"></a>Set location</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">location &lt;-<span class="st"> "us-central1"</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">location_path &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_get_location.html">gcat_get_location</a></span>(<span class="dt">projectId =</span> projectId,</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">                                   <span class="dt">locationId =</span> location)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">location_path</a></code></pre></div>
<pre><code>## ==Google Cloud AutoML Tables Location==
## name:                 projects/gc-automl-tables-r/locations/us-central1 
## locationId:           us-central1</code></pre>
</div>
<div id="get-list-of-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#get-list-of-datasets" class="anchor"></a>Get list of datasets</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">datasets_list &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_list_datasets.html">gcat_list_datasets</a></span>(<span class="dt">projectId =</span> projectId,</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">                                    <span class="dt">locationId =</span> location)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">datasets_list</a></code></pre></div>
<pre><code>##   displayName          createTime
## 1  test_01_bq 2019-08-24 18:30:35
## 2     test_01 2019-06-20 12:26:51
##                                                                   etag
## 1 AB3BwFra10AYpQiAQBpP8fqzjd82c1_7qaz3OluSoSFlbupDAdKxoFEAD7QkU7AsJwib
## 2 AB3BwFreyxAkVVxVUgUx16_ei1jbSRf5cyRQmfBVc5ZDCgBTWt5nSGzP2En0ykSjZ6DL
##                                                                          name
## 1 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512
## 2 projects/736862006196/locations/us-central1/datasets/TBL7889488510502043648</code></pre>
<div id="optional---setting-and-getting-global-dataset-name" class="section level3">
<h3 class="hasAnchor">
<a href="#optional---setting-and-getting-global-dataset-name" class="anchor"></a>Optional - setting and getting global dataset name</h3>
<p>To simplify code for other API calls, you can set a dataset name to a global environment variable:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/gcat_global_dataset.html">gcat_global_dataset</a></span>(<span class="st">"test_01_bq"</span>)</a></code></pre></div>
<pre><code>## Set default dataset name to 'test_01_bq'</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="../reference/gcat_get_global_dataset.html">gcat_get_global_dataset</a></span>()</a></code></pre></div>
<pre><code>## [1] "test_01_bq"</code></pre>
</div>
</div>
</div>
<div id="importing-data-into-automl-tables" class="section level1">
<h1 class="hasAnchor">
<a href="#importing-data-into-automl-tables" class="anchor"></a>Importing data into AutoML Tables</h1>
<div id="options-and-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#options-and-workflow" class="anchor"></a>Options and Workflow</h2>
<p>There are 2 options for loading data into AutoML Tables</p>
<ol style="list-style-type: decimal">
<li>Google Cloud Storage</li>
<li>BigQuery</li>
</ol>
<p>At a high-level, the workflow is:</p>
<ol style="list-style-type: decimal">
<li>Locate your data in GCP (csv file in GCS bucket or csv file loaded into a BQ table)</li>
<li>Create AutoML Tables dataset</li>
<li>Import data from GCS or BQ into AutoML Tables dataset</li>
</ol>
</div>
<div id="from-google-cloud-storage" class="section level2">
<h2 class="hasAnchor">
<a href="#from-google-cloud-storage" class="anchor"></a>From Google Cloud Storage</h2>
<p>To load data into AutoML Tables from Google Cloud storage, first do the following:</p>
<ol style="list-style-type: decimal">
<li>Setup a GCS bucket that is <a href="https://cloud.google.com/automl-tables/docs/prepare#bucket_requirements">regional</a> and in <code>us-central1</code> region</li>
<li>Upload your data file manually or via <code>googleCloudStorageR</code>
</li>
</ol>
<p>Now we are ready to create an AutoML tables dataset.</p>
<div id="create-automl-tables-dataset" class="section level3">
<h3 class="hasAnchor">
<a href="#create-automl-tables-dataset" class="anchor"></a>Create AutoML Tables dataset</h3>
<p>For now, one has to manually create dataset via <a href="https://console.cloud.google.com/automl-tables/datasets/">GCP console</a></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co"># </span><span class="al">TODO</span><span class="co"> @justinjm - fix function, issue #1 </span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co"># https://github.com/justinjm/googleCloudAutoMLTablesR/issues/1</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co"># gcat_dataset &lt;- gcat_create_dataset(projectId = projectId,</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">#                                     locationId = location,</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co">#                                     displayName = "bank_marketing")</span></a></code></pre></div>
</div>
<div id="import-data" class="section level3">
<h3 class="hasAnchor">
<a href="#import-data" class="anchor"></a>Import data</h3>
<p>Execute import from Google Cloud storage:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co"># set url as seperate parameter to keep line length under 80</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co"># gs_url &lt;- "gs://amlt-test/bank_marketing.csv"</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co"># </span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co"># gcat_import_data(projectId = projectId,</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#                  location = location,</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#                  dataset_display_name = "bank_marketing",</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#                  input_source = "gcs",</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#                  input_url = gs_url)</span></a></code></pre></div>
</div>
</div>
<div id="from-bigquery" class="section level2">
<h2 class="hasAnchor">
<a href="#from-bigquery" class="anchor"></a>From BigQuery</h2>
<p>To load data into AutoML Tables from BigQuery, first do the following:</p>
<ol style="list-style-type: decimal">
<li>Setup a BQ dataset</li>
<li>Upload your data file manually or via <code>bigQueryR</code> or <code>bigrquery</code>
</li>
</ol>
<div id="create-automl-tables-dataset-1" class="section level3">
<h3 class="hasAnchor">
<a href="#create-automl-tables-dataset-1" class="anchor"></a>Create AutoML Tables dataset</h3>
<p>For now, one has to manually create dataset via <a href="https://console.cloud.google.com/automl-tables/datasets/">GCP console</a></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># </span><span class="al">TODO</span><span class="co"> @justinjm - fix function, issue #1 </span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="co"># https://github.com/justinjm/googleCloudAutoMLTablesR/issues/1  </span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="co"># gcat_dataset &lt;- gcat_create_dataset(projectId = projectId,</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co">#                                     location = location,</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co">#                                     displayName = "test_01_bq")</span></a></code></pre></div>
</div>
<div id="import-data-1" class="section level3">
<h3 class="hasAnchor">
<a href="#import-data-1" class="anchor"></a>Import data</h3>
<p>Execute import from BigQuery:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="co"># set url as seperate parameter to keep line length under 80</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co"># bq_url &lt;- "bq://gc-automl-tables-r.gcatr_dev.bank_marketing"</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co"># </span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co"># gcat_import_data(projectId = projectId,</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#                  location = location,</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#                  dataset_display_name = "test_01_bq",</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#                  input_source = "bq",</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#                  input_url = bq_url)</span></a></code></pre></div>
</div>
</div>
<div id="view-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#view-dataset" class="anchor"></a>View dataset</h2>
<p>Once the import - from GCS or BQ - is completed, you’ll recieve an email notification. Locate the <code>datasetId</code> in the GCP console or via <code>gcat_list_datasets</code> function. (e.g. - will be in the form <code>TBL123456789</code>) Once the data import is completed, we can then sanity check the results.</p>
<p>First, let’s set our <code>dataset_display_name</code> and <code>datasetId</code> in advance for cleaner code later:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">dataset_display_name &lt;-<span class="st"> "test_01_bq"</span></a></code></pre></div>
<p>Now we’re ready to view the results and get the <code>tableSpecId</code> we need for later functions:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">dataset &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_get_dataset.html">gcat_get_dataset</a></span>(<span class="dt">projectId =</span> projectId,</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">                            <span class="dt">locationId =</span> location,</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">                            <span class="dt">displayName =</span> dataset_display_name)</a>
<a class="sourceLine" id="cb17-4" data-line-number="4">dataset</a></code></pre></div>
<pre><code>## ==Google Cloud AutoML Tables Dataset==
## displayName:          test_01_bq 
## exampleCount:         45211 
## createTime:           2019-08-24 18:30:35 
## primaryTableSpecId:   7338035050660757504 
## targetColumnSpecId:   7181143537470144512 
## statsUpdateTime:      2019-10-28 19:32:47</code></pre>
</div>
</div>
<div id="updating-dataset-in-automl-tables" class="section level1">
<h1 class="hasAnchor">
<a href="#updating-dataset-in-automl-tables" class="anchor"></a>Updating dataset in AutoML Tables</h1>
<p>AutoML Tables automatically detects your data column type. Depending on the type of your label column, AutoML Tables chooses to run a classification or regression model. If your label column contains only numerical values, but they represent categories, change your label column type to categorical by updating your schema.</p>
<p>Lets first view the table schema and the columns</p>
<div id="get-table-specifications-tablespec" class="section level2">
<h2 class="hasAnchor">
<a href="#get-table-specifications-tablespec" class="anchor"></a>Get table specifications (tableSpec)</h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">table_spec &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_get_table_specs.html">gcat_get_table_specs</a></span>(<span class="dt">projectId =</span> projectId,</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">                                   <span class="dt">locationId =</span> location,</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">                                   <span class="dt">displayName =</span> dataset_display_name)</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">table_spec</a></code></pre></div>
<pre><code>## ==Google Cloud AutoML Tables Table Spec==
## columnCount:          17 
## rowCount:             45211 
## validRowCount:        45211 
## eTag:                 AB3BwFqH-bYKzyRPNEYGDsPOpnP1TJjU1VtfsQVdfAZOLJwwpusxB4Cf3EjsGTwzJhcD</code></pre>
</div>
<div id="list-column-specs" class="section level2">
<h2 class="hasAnchor">
<a href="#list-column-specs" class="anchor"></a>List column specs</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">column_specs_list &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_list_column_specs.html">gcat_list_column_specs</a></span>(<span class="dt">projectId =</span> projectId,</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">                                            <span class="dt">locationId =</span> location,</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">                                            <span class="dt">displayName =</span> dataset_display_name)</a>
<a class="sourceLine" id="cb21-4" data-line-number="4">column_specs_list</a></code></pre></div>
<pre><code>##                                                                                                                                          name
## 1  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/1416536014435909632
## 2  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6172337220939153408
## 3  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3866494211725459456
## 4  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/8478180230152847360
## 5   projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/984190450208342016
## 6  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/5595876468635729920
## 7  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3290033459422035968
## 8  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7901719477849423872
## 9  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2137111954815188992
## 10 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4442954964028882944
## 11 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6748797973242576896
## 12 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4875300528256450560
## 13 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/9054640982456270848
## 14  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/263614509829062656
## 15 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2569457519042756608
## 16 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7181143537470144512
## 17 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6028222032863297536
##    typeCode displayName dataStats.distinctValueCount
## 1   FLOAT64          V1                           77
## 2  CATEGORY          V2                           12
## 3  CATEGORY          V3                            3
## 4  CATEGORY          V4                            4
## 5  CATEGORY          V5                            2
## 6   FLOAT64          V6                         7168
## 7  CATEGORY          V7                            2
## 8  CATEGORY          V8                            2
## 9  CATEGORY          V9                            3
## 10  FLOAT64         V10                           31
## 11 CATEGORY         V11                           12
## 12  FLOAT64         V12                         1573
## 13  FLOAT64         V13                           48
## 14  FLOAT64         V14                          559
## 15  FLOAT64         V15                           41
## 16 CATEGORY         V16                            4
## 17 CATEGORY       Class                            2
##    dataStats.float64Stats.mean dataStats.float64Stats.standardDeviation
## 1                   40.9362102                                10.618762
## 2                           NA                                       NA
## 3                           NA                                       NA
## 4                           NA                                       NA
## 5                           NA                                       NA
## 6                 1362.2720577                              3044.765829
## 7                           NA                                       NA
## 8                           NA                                       NA
## 9                           NA                                       NA
## 10                  15.8064188                                 8.322476
## 11                          NA                                       NA
## 12                 258.1630798                               257.527812
## 13                   2.7638407                                 3.098021
## 14                  40.1978280                               100.128746
## 15                   0.5803234                                 2.303441
## 16                          NA                                       NA
## 17                          NA                                       NA
##    dataStats.float64Stats.quantiles
## 1                18, 32, 38, 47, 95
## 2                              NULL
## 3                              NULL
## 4                              NULL
## 5                              NULL
## 6      -8019, 38, 386, 1187, 102127
## 7                              NULL
## 8                              NULL
## 9                              NULL
## 10                 1, 8, 15, 20, 31
## 11                             NULL
## 12            0, 96, 169, 293, 4918
## 13                   1, 1, 2, 3, 63
## 14              -1, -1, -1, -1, 871
## 15                  0, 0, 0, 0, 275
## 16                             NULL
## 17                             NULL
##                                                                                                                                                                                     dataStats.float64Stats.histogramBuckets
## 1                                  -Infinity, 25.7, 33.4, 41.1, 48.8, 56.5, 64.2, 71.9, 79.6, 87.3, 25.7, 33.4, 41.1, 48.8, 56.5, 64.2, 71.9, 79.6, 87.3, Infinity, 1336, 11747, 12925, 8015, 7066, 3312, 377, 303, 116, 14
## 2                                                                                                                                                                                                                      NULL
## 3                                                                                                                                                                                                                      NULL
## 4                                                                                                                                                                                                                      NULL
## 5                                                                                                                                                                                                                      NULL
## 6  -Infinity, 2995.6, 14010.2, 25024.8, 36039.4, 47054, 58068.6, 69083.2, 80097.8, 91112.4, 2995.6, 14010.2, 25024.8, 36039.4, 47054, 58068.6, 69083.2, 80097.8, 91112.4, Infinity, 39587, 5233, 294, 58, 21, 7, 6, 1, 2, 2
## 7                                                                                                                                                                                                                      NULL
## 8                                                                                                                                                                                                                      NULL
## 9                                                                                                                                                                                                                      NULL
## 10                                                                      -Infinity, 4, 7, 10, 13, 16, 19, 22, 25, 28, 4, 7, 10, 13, 16, 19, 22, 25, 28, Infinity, 2694, 5287, 5220, 3606, 5136, 5662, 6535, 2291, 2996, 5784
## 11                                                                                                                                                                                                                     NULL
## 12                 -Infinity, 491.8, 983.6, 1475.4, 1967.2, 2459, 2950.8, 3442.6, 3934.4, 4426.2, 491.8, 983.6, 1475.4, 1967.2, 2459, 2950.8, 3442.6, 3934.4, 4426.2, Infinity, 39677, 4425, 865, 176, 43, 11, 11, 2, NA, 1
## 13                                                     -Infinity, 7.2, 13.4, 19.6, 25.8, 32, 38.2, 44.4, 50.6, 56.8, 7.2, 13.4, 19.6, 25.8, 32, 38.2, 44.4, 50.6, 56.8, Infinity, 42882, 1622, 420, 165, 75, 33, 7, 3, 2, 2
## 14                           -Infinity, 86.2, 173.4, 260.6, 347.8, 435, 522.2, 609.4, 696.6, 783.8, 86.2, 173.4, 260.6, 347.8, 435, 522.2, 609.4, 696.6, 783.8, Infinity, 37516, 2299, 2154, 1825, 1229, 98, 39, 18, 18, 15
## 15                                                     -Infinity, 27.5, 55, 82.5, 110, 137.5, 165, 192.5, 220, 247.5, 27.5, 55, 82.5, 110, 137.5, 165, 192.5, 220, 247.5, Infinity, 45190, 18, 2, NA, NA, NA, NA, NA, NA, 1
## 16                                                                                                                                                                                                                     NULL
## 17                                                                                                                                                                                                                     NULL
##    dataStats.validValueCount
## 1                      45211
## 2                      45211
## 3                      45211
## 4                      45211
## 5                      45211
## 6                      45211
## 7                      45211
## 8                      45211
## 9                      45211
## 10                     45211
## 11                     45211
## 12                     45211
## 13                     45211
## 14                     45211
## 15                     45211
## 16                     45211
## 17                     45211
##                                                                                                                                                                                    dataStats.topCategoryStats
## 1                                                                                                                                                                                                        NULL
## 2  blue-collar, management, technician, admin., services, retired, self-employed, entrepreneur, unemployed, housemaid, student, unknown, 9732, 9458, 7597, 5171, 4154, 2264, 1579, 1487, 1303, 1240, 938, 288
## 3                                                                                                                                                               married, single, divorced, 27214, 12790, 5207
## 4                                                                                                                                             secondary, tertiary, primary, unknown, 23202, 13301, 6851, 1857
## 5                                                                                                                                                                                     false, true, 44396, 815
## 6                                                                                                                                                                                                        NULL
## 7                                                                                                                                                                                   true, false, 25130, 20081
## 8                                                                                                                                                                                    false, true, 37967, 7244
## 9                                                                                                                                                            cellular, unknown, telephone, 29285, 13020, 2906
## 10                                                                                                                                                                                                       NULL
## 11                                                                            may, jul, aug, jun, nov, apr, feb, jan, oct, sep, mar, dec, 13766, 6895, 6247, 5341, 3970, 2932, 2649, 1403, 738, 579, 477, 214
## 12                                                                                                                                                                                                       NULL
## 13                                                                                                                                                                                                       NULL
## 14                                                                                                                                                                                                       NULL
## 15                                                                                                                                                                                                       NULL
## 16                                                                                                                                                  unknown, failure, other, success, 36959, 4901, 1840, 1511
## 17                                                                                                                                                                                          1, 2, 39922, 5289
##                                                                    etag
## 1  AB3BwFqOiI8Z_Yzb-TXcNo4H5LeSZeGQHqjPQ_qdj1IPAhnICo0BXSflX6B9q5fqQ5As
## 2  AB3BwFqjH7VYpFehmFP3GzjafaIAW04d9QnI0p59aetQnaNe2MBlaaQ8ErUlIZaFD85k
## 3  AB3BwFrSBNmAxO2ubmaiJj7-xUAmzn5M18qVPLY8fmpZkMeDRL7eQl2HySie7HRPGYHm
## 4  AB3BwFr7tCwCelYoMETYvI_5Rck4EDleN3inv59-EkI9f1bx9fH2uDfVf_ynkKI96ZgN
## 5  AB3BwFq6_yrC4G2z_-NcVyUpsPruUv9s8j1fIZnRzOfB2-CTkrPP--DHzdxrXTrN495-
## 6  AB3BwFox6S7h4VRzHpiVtAxpzVYmhYeDe5hIJHlYIqYRPc7rM903n6VWEs3slmmzLogB
## 7  AB3BwFqGDWum49RFyoyHw5afq1mYi-K_MnrCbnCyrLHYV0H13WNiFJNmihtLISEkqLbi
## 8  AB3BwFodvpN3cZgxyHhEhN6nj3_sm8AORdC67i5Mm9c2hN_aeKo8fMXplekt-7v1bUmA
## 9  AB3BwFqan9OC0iPtBf-JtDwj3qKOZhF1dHVFQ1xe_q-BcbPwja5y7s3tyEa2VUXPzvWV
## 10 AB3BwFqwsy4mi72o3FCtmlwOdNTrmoBaEES21So0t0PU6P4YYsRdt5fE7NtmnjXpDnA1
## 11 AB3BwFrj1XGTaIc-9b_D4j0m0XPYxbWfg5I8xHoctZiJ8uligqCC6mZ3nFH72kkYOVhw
## 12 AB3BwFokp2_uFLrcFX94iih1UNvdbxhYkVgXRtar_870CFGO5AS-dz5D8nNDXdXVh2so
## 13 AB3BwFoQVr2_mfJEEZUyzmlaKSmjOAe6tFy5tPNMNI1YMSMkXyPdocxYLnAjVLDWeYLz
## 14 AB3BwFpWIsAGV8OH4O1YvKXG94GJrBDq4EIbUmyS-ge7UoXzEtSfjNQAYvwmaGC0U71U
## 15 AB3BwFpjLhY_safa4fVgWLj0tlRBIkyjhKGbD2ByM4ms-kKoiyF2RYnLEUe6yvjooTZB
## 16 AB3BwFoIOmHqlTxLFdXiDY7O_ADWFt5Rs1_duByjwBZdW5P2TT-wcBmUCkGkYF2Ubqqy
## 17 AB3BwFqXXizC_xeu0-mpJiqY5Horn56t-xizSSyyiKsqSKBvPIcQCTsApCyMV0L5Tuhb</code></pre>
</div>
<div id="visualize-column-specs" class="section level2">
<h2 class="hasAnchor">
<a href="#visualize-column-specs" class="anchor"></a>Visualize column specs</h2>
<p>TODO - <span class="citation">@justinm</span> - add visualization of column specs?</p>
<div id="get-info-about-our-target-column" class="section level3">
<h3 class="hasAnchor">
<a href="#get-info-about-our-target-column" class="anchor"></a>Get info about our target column</h3>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">column_spec &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_get_column_specs.html">gcat_get_column_specs</a></span>(<span class="dt">projectId =</span> projectId,</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">                                     <span class="dt">locationId =</span> location,</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">                                     <span class="dt">displayName =</span> dataset_display_name,</a>
<a class="sourceLine" id="cb23-4" data-line-number="4">                                     <span class="dt">columnDisplayName =</span> <span class="st">"V16"</span>)</a>
<a class="sourceLine" id="cb23-5" data-line-number="5">column_spec </a></code></pre></div>
<pre><code>## ==Google Cloud AutoML Tables Column Spec==
## displayName:          V16 
## dataType:             CATEGORY 
## distinctValueCount:   4 
## eTag:                 AB3BwFoMzaj01dZWCT3XB7UKyermhxPcqKKTRgG-o4pPtA-L4Ds3-cvPGRoYINfKQ2sd</code></pre>
</div>
</div>
<div id="set-label-or-target-column" class="section level2">
<h2 class="hasAnchor">
<a href="#set-label-or-target-column" class="anchor"></a>Set label or target column</h2>
<p>Set V16 or outcome <a href="https://datahub.io/machine-learning/bank-marketing">source</a> as label</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="co"># </span><span class="al">TODO</span><span class="co"> @justinjm - change to "set_target" to align with python sdk?</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2">dataset &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_set_label.html">gcat_set_label</a></span>(<span class="dt">projectId =</span> projectId,</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">                          <span class="dt">locationId =</span> location,</a>
<a class="sourceLine" id="cb25-4" data-line-number="4">                          <span class="dt">displayName =</span> dataset_display_name,</a>
<a class="sourceLine" id="cb25-5" data-line-number="5">                          <span class="dt">labelColumnDisplayName =</span> <span class="st">"V16"</span>)</a>
<a class="sourceLine" id="cb25-6" data-line-number="6">dataset</a></code></pre></div>
<pre><code>## ==Google Cloud AutoML Tables Dataset==
## displayName:          test_01_bq 
## exampleCount:         45211 
## createTime:           2019-08-24 18:30:35 
## primaryTableSpecId:   7338035050660757504 
## targetColumnSpecId:   7181143537470144512 
## statsUpdateTime:      2019-10-28 19:32:47</code></pre>
</div>
<div id="modeling" class="section level2">
<h2 class="hasAnchor">
<a href="#modeling" class="anchor"></a>Modeling</h2>
<div id="create-model" class="section level3">
<h3 class="hasAnchor">
<a href="#create-model" class="anchor"></a>Create model</h3>
<p>Training or creating a model is done with <code>gcat_create_model</code>.</p>
<p>This will be a long-lasting operation. You will recieve an email when the model training completes</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># gcat_model_01 &lt;- gcat_create_model(</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="co">#   projectId = projectId,</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="co">#   locationId = location,</span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="co">#   datasetDisplayName = "test_01_bq",</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5"><span class="co">#   columnDisplayName = "V16",</span></a>
<a class="sourceLine" id="cb27-6" data-line-number="6"><span class="co">#   modelDisplayName = "test_01_bq_01",</span></a>
<a class="sourceLine" id="cb27-7" data-line-number="7"><span class="co">#   optimizationObjective = "MINIMIZE_LOG_LOSS",</span></a>
<a class="sourceLine" id="cb27-8" data-line-number="8"><span class="co">#   trainBudgetMilliNodeHours = 1000)</span></a>
<a class="sourceLine" id="cb27-9" data-line-number="9"></a>
<a class="sourceLine" id="cb27-10" data-line-number="10"><span class="co"># gcat_model_01</span></a></code></pre></div>
<p>More details here: <a href="https://cloud.google.com/automl-tables/docs/train">Training models|AutoML Tables Documentation</a></p>
</div>
<div id="viewing-models" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-models" class="anchor"></a>Viewing Models</h3>
<p>While you wait - or after your latest model training completes - you can view the list trained models:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">models_list &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_list_models.html">gcat_list_models</a></span>(<span class="dt">projectId =</span> projectId,</a>
<a class="sourceLine" id="cb28-2" data-line-number="2">                                <span class="dt">locationId =</span> location)</a>
<a class="sourceLine" id="cb28-3" data-line-number="3">models_list</a></code></pre></div>
<pre><code>##                                                                        name
## 1 projects/736862006196/locations/us-central1/models/TBL5977433391753068544
## 2 projects/736862006196/locations/us-central1/models/TBL2283918747355840512
## 3 projects/736862006196/locations/us-central1/models/TBL3412404705546993664
##     displayName              datasetId                  createTime
## 1 test_01_bq_01 TBL4800700863335104512 2020-03-13T15:00:23.561254Z
## 2 test_01_bq_01 TBL4800700863335104512 2020-03-13T14:59:36.575933Z
## 3 test_01_bq_01 TBL4800700863335104512 2020-01-27T22:28:05.031904Z
##   deploymentState                  updateTime
## 1      UNDEPLOYED 2020-03-13T16:15:51.507143Z
## 2      UNDEPLOYED 2020-03-13T16:10:13.188586Z
## 3      UNDEPLOYED 2020-01-27T23:28:31.875753Z
##                                                                                                    tablesModelMetadata.targetColumnSpec.name
## 1 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7181143537470144512
## 2 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7181143537470144512
## 3 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7181143537470144512
##   tablesModelMetadata.targetColumnSpec.typeCode
## 1                                      CATEGORY
## 2                                      CATEGORY
## 3                                      CATEGORY
##   tablesModelMetadata.targetColumnSpec.displayName
## 1                                              V16
## 2                                              V16
## 3                                              V16
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      tablesModelMetadata.inputFeatureColumnSpecs
## 1 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/1416536014435909632, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6172337220939153408, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3866494211725459456, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/8478180230152847360, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/984190450208342016, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/5595876468635729920, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3290033459422035968, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7901719477849423872, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2137111954815188992, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4442954964028882944, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6748797973242576896, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4875300528256450560, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/9054640982456270848, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/263614509829062656, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2569457519042756608, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6028222032863297536, FLOAT64, CATEGORY, CATEGORY, CATEGORY, CATEGORY, FLOAT64, CATEGORY, CATEGORY, CATEGORY, FLOAT64, CATEGORY, FLOAT64, FLOAT64, FLOAT64, FLOAT64, CATEGORY, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13, V14, V15, Class
## 2 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/1416536014435909632, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6172337220939153408, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3866494211725459456, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/8478180230152847360, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/984190450208342016, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/5595876468635729920, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3290033459422035968, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7901719477849423872, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2137111954815188992, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4442954964028882944, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6748797973242576896, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4875300528256450560, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/9054640982456270848, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/263614509829062656, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2569457519042756608, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6028222032863297536, FLOAT64, CATEGORY, CATEGORY, CATEGORY, CATEGORY, FLOAT64, CATEGORY, CATEGORY, CATEGORY, FLOAT64, CATEGORY, FLOAT64, FLOAT64, FLOAT64, FLOAT64, CATEGORY, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13, V14, V15, Class
## 3 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/1416536014435909632, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6172337220939153408, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3866494211725459456, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/8478180230152847360, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/984190450208342016, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/5595876468635729920, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3290033459422035968, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7901719477849423872, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2137111954815188992, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4442954964028882944, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6748797973242576896, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4875300528256450560, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/9054640982456270848, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/263614509829062656, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2569457519042756608, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6028222032863297536, FLOAT64, CATEGORY, CATEGORY, CATEGORY, CATEGORY, FLOAT64, CATEGORY, CATEGORY, CATEGORY, FLOAT64, CATEGORY, FLOAT64, FLOAT64, FLOAT64, FLOAT64, CATEGORY, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13, V14, V15, Class
##   tablesModelMetadata.optimizationObjective
## 1                         MINIMIZE_LOG_LOSS
## 2                         MINIMIZE_LOG_LOSS
## 3                         MINIMIZE_LOG_LOSS
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 tablesModelMetadata.tablesModelColumnInfo
## 1    projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6748797973242576896, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3866494211725459456, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6172337220939153408, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/9054640982456270848, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/8478180230152847360, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/5595876468635729920, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/263614509829062656, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6028222032863297536, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/984190450208342016, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3290033459422035968, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4875300528256450560, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/1416536014435909632, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7901719477849423872, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2137111954815188992, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2569457519042756608, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4442954964028882944, V11, V3, V2, V13, V4, V6, V14, Class, V5, V7, V12, V1, V8, V9, V15, V10, 0.037176132, 0.0079896785, 0.014239374, 0.03099689, 0.0039539267, 0.012232116, 0.28556436, 0.05254126, 0.0005522082, 0.014781277, 0.013419582, 0.009651829, 0.0017251433, 0.002835156, 0.4984401, 0.013900955
## 2 projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6748797973242576896, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3866494211725459456, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6172337220939153408, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/9054640982456270848, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/8478180230152847360, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/5595876468635729920, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/263614509829062656, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6028222032863297536, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/984190450208342016, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3290033459422035968, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4875300528256450560, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/1416536014435909632, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7901719477849423872, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2137111954815188992, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2569457519042756608, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4442954964028882944, V11, V3, V2, V13, V4, V6, V14, Class, V5, V7, V12, V1, V8, V9, V15, V10, 0.014417809, 0.007277803, 0.0040726573, 0.018191027, 0.005091903, 0.009782116, 0.54245925, 0.032060977, 1.26559735e-05, 0.016104894, 0.02255223, 0.013162559, 0.0006131229, 0.0024740617, 0.3020457, 0.009681239
## 3  projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6028222032863297536, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/7901719477849423872, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2137111954815188992, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/1416536014435909632, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4442954964028882944, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6172337220939153408, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/6748797973242576896, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3866494211725459456, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/4875300528256450560, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/8478180230152847360, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/9054640982456270848, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/984190450208342016, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/263614509829062656, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/5595876468635729920, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/2569457519042756608, projects/736862006196/locations/us-central1/datasets/TBL4800700863335104512/tableSpecs/7338035050660757504/columnSpecs/3290033459422035968, Class, V8, V9, V1, V10, V2, V11, V3, V12, V4, V13, V5, V14, V6, V15, V7, 0.08321749, 0.0020062188, 0.010162961, 0.017939348, 0.009395799, 0.0064792433, 0.013704709, 0.0041621006, 0.02212656, 0.0035529097, 0.019878583, 5.1249397e-05, 0.42848247, 0.009187378, 0.35277647, 0.01687651
##   tablesModelMetadata.trainBudgetMilliNodeHours
## 1                                          1000
## 2                                          1000
## 3                                          1000
##   tablesModelMetadata.trainCostMilliNodeHours
## 1                                        1000
## 2                                        1000
## 3                                         994</code></pre>
<p>After the model has trained, you can get the trainied model with the following:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">gcat_model &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gcat_get_model.html">gcat_get_model</a></span>(<span class="dt">projectId =</span> projectId,</a>
<a class="sourceLine" id="cb30-2" data-line-number="2">                             <span class="dt">locationId =</span> location,</a>
<a class="sourceLine" id="cb30-3" data-line-number="3">                             <span class="dt">modelDisplayName =</span> <span class="st">"test_01_bq_01"</span>)</a>
<a class="sourceLine" id="cb30-4" data-line-number="4">gcat_model</a></code></pre></div>
<pre><code>## ==Google Cloud AutoML Tables Model==
## name:                 projects/736862006196/locations/us-central1/models/TBL5977433391753068544 
## displayName:          test_01_bq_01 
## createTime:           2020-03-13 15:00:23 
## deploymentState:      UNDEPLOYED 
## updateTime:           2020-03-13 16:15:51</code></pre>
</div>
<div id="evalute-the-model" class="section level3">
<h3 class="hasAnchor">
<a href="#evalute-the-model" class="anchor"></a>Evalute the model</h3>
<p>After training has been completed, you can review various performance statistics on the model, such as the accuracy, precision, recall, and so on. The metrics are returned in a nested data structure:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="co"># model_evaluation &lt;- gcat_list_model_evaluations(</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="co">#   projectId = projectId,</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="co">#   locationId = location,</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="co">#   modelDisplayName = "test_01_bq_01"</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"><span class="co"># )</span></a></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="co"># view debugging info</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="co"># readRDS("request_debug.rds")</span></a></code></pre></div>
</div>
<div id="make-batch-prediction" class="section level3">
<h3 class="hasAnchor">
<a href="#make-batch-prediction" class="anchor"></a>Make batch prediction</h3>
</div>
<div id="evaluate-predictions" class="section level3">
<h3 class="hasAnchor">
<a href="#evaluate-predictions" class="anchor"></a>Evaluate predictions</h3>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#setup">Setup</a><ul class="nav nav-pills nav-stacked">
<li><a href="#set-location">Set location</a></li>
      <li><a href="#get-list-of-datasets">Get list of datasets</a></li>
      </ul>
</li>
      <li>
<a href="#importing-data-into-automl-tables">Importing data into AutoML Tables</a><ul class="nav nav-pills nav-stacked">
<li><a href="#options-and-workflow">Options and Workflow</a></li>
      <li><a href="#from-google-cloud-storage">From Google Cloud Storage</a></li>
      <li><a href="#from-bigquery">From BigQuery</a></li>
      <li><a href="#view-dataset">View dataset</a></li>
      </ul>
</li>
      <li>
<a href="#updating-dataset-in-automl-tables">Updating dataset in AutoML Tables</a><ul class="nav nav-pills nav-stacked">
<li><a href="#get-table-specifications-tablespec">Get table specifications (tableSpec)</a></li>
      <li><a href="#list-column-specs">List column specs</a></li>
      <li><a href="#visualize-column-specs">Visualize column specs</a></li>
      <li><a href="#set-label-or-target-column">Set label or target column</a></li>
      <li><a href="#modeling">Modeling</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Justin Marciszewski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
